---
title:  "ACL" 

categories:
  - router
tags:
  - [router,routing,acl]

toc: true

date: 2022-08-27
last_modified_at: 2022-08-27
---

## ğŸ—‚ï¸ACL

- <span style="color:blue"><b>ACL(Access Control List) </b></span>

  - Router ë‚´ë¶€ <span style="color:red"><b>ì •ì±…ì„ í†µí•´ ë°ì´í„°ë¥¼ Filtering</b></span> í•´ì£¼ëŠ” ì—­í• 
  - ì •ì±…ì— ë”°ë¥¸ íŠ¸ë˜í”½ í•„í„°ë§, ì‹ë³„, ë¶„ë¥˜, ì•”í˜¸í™”, ë³€í™˜ ì‘ì—…ë“±ì„ ìˆ˜í–‰ í•¨ 
  - ACL ì •ì±…ì€ í•­ìƒ ìœ„ì—ì„œ ì•„ë˜ë¡œ ìˆœì°¨ì ìœ¼ë¡œ ì ìš© ë¨

-  <span style="color:blue"><b>ACL ê¸°ë³¸ ë™ì‘</b></span>

  - ìˆœì°¨ì ì¸ ë™ì‘

  - ì¡°ê±´ì— ëª…ì‹œë˜ì–´ ìˆëŠ” ì •ë³´ì™€ ì „ë‹¬ë°›ì€ packetì˜ ì •ë³´ë¥¼ ë¹„êµí•˜ì—¬ ì§€ì •ëœ Actionì„ ìˆ˜í–‰ í•¨

    > <b>Permit â†’ í—ˆìš©, ì‚¬ìš© ë¨</b>

    > <b>Deny â†’ ê±°ë¶€, ì‚¬ìš©ë˜ì§€ ì•ŠìŒ</b>>

  - ëª¨ë“  ì¡°ê±´ì— í•´ë‹¹ë˜ì§€ ì•Šìœ¼ë©´ ALL Deny

    > í•­ìƒ ì¡°ê±´ì˜ ë§ˆì§€ë§‰ì— <span style="color:red"><b>ê¸°ë³¸ê°’ìœ¼ë¡œ â€œALL Denyâ€</b></span>ì •ì±…ì´ ì§€ì •ë˜ì–´ ìˆìŒ

  - ì •ì±… êµ¬ì„± í›„ í•„ìš”í•œ ìœ„ì¹˜ì—ì„œ ì ìš© í•¨

- <span style="color:blue"><b>ACL ì¢…ë¥˜ </b></span>

  - Numbered í˜• ACL

    > <span style="color:red"><b>ìˆ«ìë¥¼ ì‹ë³„ ê°’</b></span>ìœ¼ë¡œ ì‚¬ìš©í•˜ëŠ” ACL

    > ì£¼ë¡œ íŠ¹ì • ê¸°ëŠ¥ ìˆ˜í–‰ì„ ìœ„í•œ <span style="color:red"><b>íŠ¸ë˜í”½ ë¶„ë¥˜</b></span>ë¥¼ ëª©ì ìœ¼ë¡œ ì‚¬ìš© ë¨

  - Named í˜• ACL

    > ë¬¸ìë¥¼ ì‹ë³„ ê°’ìœ¼ë¡œ ì‚¬ìš©í•˜ëŠ” ACL

    > ë°©í™”ë²½ì˜ ë³´ì•ˆì •ì±… êµ¬ì„± ë° ë³µì¡í•œ ì •ì±… êµ¬ì„±ì„ í•  ë•Œ ì‚¬ìš© ë¨
    >
    > ![í™”ë©´ ìº¡ì²˜ 2022-08-29 113728](../../assets/img/í™”ë©´ ìº¡ì²˜ 2022-08-29 113728.png)

- <span style="color:blue"><b>ACL ì ìš© ìœ„ì¹˜</b></span>

  - ì •ì±…ì— ë§ì¶° êµ¬ì„±ëœ ì¡°ê±´(ACL)ê³¼ ì‹¤ íŠ¸ë˜í”½ì„ í•„í„°ë§ í•  ì§€ì  ì„¤ì •

  - íŠ¸ë˜í”½ì„ í•„í„°ë§ í•´ì•¼ í•  ì¸í„°í˜ì´ìŠ¤ 

  - ì¢…ë¥˜ â†’ Inbound, outbound 

  - Inbound

    > ì¸í„°í˜ì´ìŠ¤ë¡œ ë°ì´í„°ê°€ ìœ ì…ëì„ ë•Œ ì •ì±… í™•ì¸ í›„ ì „ì†¡

    > ACLí™•ì¸ â†’ Routing Table í™•ì¸(Routing) 

  - Outbound(default) 

    > ì¸í„°í˜ì´ìŠ¤ë¡œ ë°ì´í„°ê°€ ì „ë‹¬ë˜ê¸° ì§ì „ì— ì •ì±… í™•ì¸ í›„ ì „ì†¡

    > Routing Table í™•ì¸(Routing) â†’ ACLí™•ì¸

- <span style="color:blue"><b>ACL ì„¤ì • ìˆœì„œ</b></span>

  - ì¡°ê±´ì— ë§ëŠ” ì •ì±… ê³„íš

    > í•„ìš”í•œ ì¡°ê±´ì— ë”°ë¼ ë¯¸ë¦¬ í˜‘ì˜í•˜ì—¬ ì •ì±…ì— ëŒ€í•œ ê³„íšì„ ì„¸ì›€ 

  - Access-list ì •ì±… ìƒì„± 

    > ê³„íšì— ë”°ë¼ ì •ì±…ì„ ì„¤ì •í•˜ì—¬ List ìƒì„±

  -  ACL ì ìš©

    > ìƒì„±í•œ ACLì„ ì´ìš©í•  ìœ„ì¹˜(interface â€¦)ì—ì„œ ì ìš© 

  - ACL ì„¤ì • í™•ì¸

## ğŸ—‚ï¸Standard ACL 

- <span style="color:blue"><b>Standard ACL</b></span>

  - ACL Number 1~99, 1300~1999 ì‚¬ìš© 

  - í•„ìˆ˜ ì¡°ê±´ â†’ Source IP

  - Wildcard Maskë¥¼ ì´ìš©í•˜ì—¬ ì¡°ê±´ì— ë§¤ì¹˜í•  IPì˜ ë²”ìœ„ë¥¼ ì§€ì •í•  ìˆ˜ ìˆìŒ(ìƒëµ ì‹œ hostë¥¼ ì˜ë¯¸í•¨)

  - íŠ¹ì • í‚¤ì›Œë“œë¥¼ ì´ìš©í•´ ë²”ìœ„ ì§€ì • ê°€ëŠ¥

    > ëª¨ë“  IP(0.0.0.0 255.255.255.255) = any

    > íŠ¹ì • IP í•˜ë‚˜(10.10.10.1 0.0.0.0) = host 10.10.10.1![í™”ë©´ ìº¡ì²˜ 2022-09-10 165250](../../assets/img/í™”ë©´ ìº¡ì²˜ 2022-09-10 165250.png)

- <span style="color:blue"><b>Standard ACL ì‹¤ìŠµ</b></span>

  - êµ¬ì„±ë„

  ![í™”ë©´ ìº¡ì²˜ 2022-08-29 121636](../../assets/img/í™”ë©´ ìº¡ì²˜ 2022-08-29 121636.png)

- 192.168.1.100 deny

  ```
  1~99
  src ip address ë¡œ permit/deny
  ```

  - ACL ëª©ë¡

    ```
    Router0#sh ip access-lists
    Router0(config)#access-list ?
      <1-99>     IP standard access list
      <100-199>  IP extended access list
    ```

  - ACL ìƒì„±í›„ í…ŒìŠ¤íŠ¸

    ![í™”ë©´ ìº¡ì²˜ 2022-08-31 211712](../../assets/img/í™”ë©´ ìº¡ì²˜ 2022-08-31 211712.png)
    
    ```
    Router0(config)#access-list 1 deny
    Router0(config)#access-list 1 deny 192.168.1.100 
    Router0#sh ip access-lists 
    Standard IP access list 1
        10 deny host 192.168.1.100
    ```

    ![í™”ë©´ ìº¡ì²˜ 2022-08-31 212024](../../assets/img/í™”ë©´ ìº¡ì²˜ 2022-08-31 212024.png)
    
    > ì•„ì§ í†µì‹ ì´ ì˜ ëœë‹¤.
    
  - ACL ì„ ì¸í„°í˜ì´ìŠ¤ ì ìš© í›„ í…ŒìŠ¤íŠ¸

    ![í™”ë©´ ìº¡ì²˜ 2022-08-29 121636](../../assets/img/í™”ë©´ ìº¡ì²˜ 2022-08-29 121636-16619488603843.png)
    
    ```
    ACL ì ìš©í•  interfaceë¡œ ì ‘ê·¼
    Router0(config)#interface f1/0
    Router0(config-if)#ip access-group 1 in
    ```

    ![í™”ë©´ ìº¡ì²˜ 2022-08-31 213002](../../assets/img/í™”ë©´ ìº¡ì²˜ 2022-08-31 213002.png)

    > í†µì‹ ì´ ì•ˆëœë‹¤
    
  - ì¸í„°í˜ì´ìŠ¤ ì •ë³´ë¡œ í™•ì¸ 

    ```
    Router0#sh ip int f1/0
    ```
    
    ![í™”ë©´ ìº¡ì²˜ 2022-08-31 213117](../../assets/img/í™”ë©´ ìº¡ì²˜ 2022-08-31 213117.png)
    
  - ë‹¤ë¥¸ hostì—ì„œ í…ŒìŠ¤íŠ¸

    ![í™”ë©´ ìº¡ì²˜ 2022-08-31 213658](../../assets/img/í™”ë©´ ìº¡ì²˜ 2022-08-31 213658.png)
    
    ```
    ping 192.168.1.254
    ```
    
    ![í™”ë©´ ìº¡ì²˜ 2022-08-31 213623](../../assets/img/í™”ë©´ ìº¡ì²˜ 2022-08-31 213623.png)

    > ëª¨ë“  ì¡°ê±´ì— í•´ë‹¹ë˜ì§€ ì•Šìœ¼ë©´ ALL Deny ë•Œë¬¸ì—

    > routerì—ì„œ 192.168.1.200ì„ ì°¨ë‹¨í•˜ì§€ ì•Šì•˜ì§€ë§Œ í†µì‹ ì´ ì•ˆëœë‹¤
    
  - ACL ì œê±° ë° í™•ì¸

    ```
    Router0(config-if)#no ip access-group 1 in
    Router0(config)#no ip access-list standard 1
    Router0#sh ip int f1/0
    ```

    ![í™”ë©´ ìº¡ì²˜ 2022-08-31 214623](../../assets/img/í™”ë©´ ìº¡ì²˜ 2022-08-31 214623.png)

    

## ğŸ—‚ï¸Extended ACL

- <span style="color:blue"><b>Extended ACL</b></span>
  - ACL Number 100~199, 2000~2699 ì‚¬ìš©
  - í•„ìˆ˜ ì¡°ê±´ â†’ Protocol(IPí—¤ë”ì˜ Protocol í•„ë“œì™€ ë¹„êµí•  ê°’), Source IP, Destination IP

![í™”ë©´ ìº¡ì²˜ 2022-09-10 165538](../../assets/img/í™”ë©´ ìº¡ì²˜ 2022-09-10 165538.png)

- <span style="color:blue"><b>Extended ACL ì‹¤ìŠµ</b></span>

  - ì‹¤ìŠµ êµ¬ì„±ë„![í™”ë©´ ìº¡ì²˜ 2022-09-10 170223](../../assets/img/í™”ë©´ ìº¡ì²˜ 2022-09-10 170223.png)

  - ì¡°ê±´ ì„¤ì •

    ```
    ì¡°ê±´ 1
    ì¶œë°œì§€ IP ì£¼ì†Œê°€ 192.168.1.100 ì¸ host ë§Œ http server(tcp 80) 
    ëª©ì ì§€ IP ì£¼ì†Œ : 192.168.2.150 ì— ì ‘ê·¼í•˜ëŠ” ê²ƒì„ í—ˆìš© (permit)
    ```

  - ACL ì‘ì„± ë° í™•ì¸

    ```
    Router0(config)#access-list 102 permit tcp host 192.168.1.100 host 192.168.2.150 eq 80
    Router0#sh ip access-lists
    ```

    ![í™”ë©´ ìº¡ì²˜ 2022-09-10 170946](../../assets/img/í™”ë©´ ìº¡ì²˜ 2022-09-10 170946.png)

  - ACL ì ìš© ë° í™•ì¸

    ![í™”ë©´ ìº¡ì²˜ 2022-09-10 1702232](../../assets/img/í™”ë©´ ìº¡ì²˜ 2022-09-10 1702232-1662799046439-7.png)

    ```
    í•´ë‹¹ ë¼ìš°í„° ê¸°ì¤€ ì™¸ë¶€ë¡œ ë‚˜ê°ˆë•Œ í—ˆìš© í•˜ëŠ” ë¶€ë¶„ ì ìš© 
    Router0(config-if)#ip access-group 102 out
    Router0#sh ip int f0/0
    ```

    ![í™”ë©´ ìº¡ì²˜ 2022-09-10 172207](../../assets/img/í™”ë©´ ìº¡ì²˜ 2022-09-10 172207.png)

  - í†µì‹  í…ŒìŠ¤íŠ¸

    > ping í…ŒìŠ¤íŠ¸
    >
    > 192.168.1.100 -> 192.168.2.150
    >
    > ![í™”ë©´ ìº¡ì²˜ 2022-09-10 174535](../../assets/img/í™”ë©´ ìº¡ì²˜ 2022-09-10 174535-1662801002360-18.png)

    > http ì ‘ì† í…ŒìŠ¤íŠ¸
    >
    > 192.168.1.100 -> 192.168.2.150

    ![í™”ë©´ ìº¡ì²˜ 2022-09-10 174637](../../assets/img/í™”ë©´ ìº¡ì²˜ 2022-09-10 174637-1662801036105-20.png)

    ![í™”ë©´ ìº¡ì²˜ 2022-09-10 175531](../../assets/img/í™”ë©´ ìº¡ì²˜ 2022-09-10 175531-1662801049322-22.png)

  - ì¡°ê±´ 2 

    ```
    network ë¥¼ ì§€ì •í• ë•ŒëŠ” wildcard mask 
    192.168.1.0/24 (src) network ì˜ ëª¨ë“  í˜¸ìŠ¤íŠ¸ë¥¼  192.168.2.150(dst) ì—  icmp(protocol) ë¥¼ í—ˆìš© (permit)
    ```

  - ACL ì‘ì„± ë° í™•ì¸

    ```
    Router0(config)#access-list 101 permit icmp 192.168.1.0 0.0.0.255 host 192.168.2.150
    Router0(config)#do sh ip access-list
    ```

    ![í™”ë©´ ìº¡ì²˜ 2022-09-10 181450](../../assets/img/í™”ë©´ ìº¡ì²˜ 2022-09-10 181450.png)

  - ping í…ŒìŠ¤íŠ¸

    > 192.168.1.100 -> 192.168.2.150

    ![í™”ë©´ ìº¡ì²˜ 2022-09-10 181847](../../assets/img/í™”ë©´ ìº¡ì²˜ 2022-09-10 181847.png)

    > 192.168.1.100 -> 192.168.2.100

    ![í™”ë©´ ìº¡ì²˜ 2022-09-10 181901](../../assets/img/í™”ë©´ ìº¡ì²˜ 2022-09-10 181901.png)

    > 

    

    



<br>

[ë§¨ ìœ„ë¡œ ì´ë™í•˜ê¸°](#){: .btn .btn--primary }{: .align-right}
